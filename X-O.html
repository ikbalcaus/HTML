<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="icon" href="static/img/favicon.png">
		<title>X-O</title>
		
		<link rel="stylesheet" href="static/css/bootstrap.min.css">
		<style>
			h1{
				text-align: center;
				margin-top: 20px;
				cursor: default;
			}
			table{
				position: absolute;
				top: 45%;
				left: 50%;
				transform: translate(-50%,-50%);
			}
			.btn{
				border: 1px black solid;
				margin: 1px;
				width: 100px;
				height: 100px;
				font-size: 50px;
			}
		</style>
	</head>



	<body>
		<h1></h1>

		<table>
			<tr>
				<td><input type="button" class="btn" id="1" onClick="insert(1)"></td>
				<td><input type="button" class="btn" id="2" onClick="insert(2)"></td>
				<td><input type="button" class="btn" id="3" onClick="insert(3)"></td>
			</tr>
			<tr>
				<td><input type="button" class="btn" id="4" onClick="insert(4)"></td>
				<td><input type="button" class="btn" id="5" onClick="insert(5)"></td>
				<td><input type="button" class="btn" id="6" onClick="insert(6)"></td>
			</tr>
			<tr>
				<td><input type="button" class="btn" id="7" onClick="insert(7)"></td>
				<td><input type="button" class="btn" id="8" onClick="insert(8)"></td>
				<td><input type="button" class="btn" id="9" onClick="insert(9)"></td>
			</tr>
		</table>



		<script src="static/js/jquery.min.js"></script>
		<script>
			var finish = false



			if ((Math.round(Math.random())) == 0){
				var player = "X"
				$("h1").text("Player [O] is now playing")
			} else{
				var player = "O"
				$("h1").text("Player [X] is now playing")
			}



			function insert(number){
				if (!finish  &&  !$("#"+number).val()){

					if(player == "X"){
						$("h1").text("Player [X] is now playing")
						player = "O"
					} else{
						$("h1").text("Player [O] is now playing")
						player = "X"
					}

					if(!$("#"+number).val()){
						$("#"+number).val(player)
					}

					win()
				}
			}



			function win(){
				if( $("#1").val() != ""  &&  $("#2").val() != ""  &&  $("#3").val() != ""  &&  
					$("#4").val() != ""  &&  $("#5").val() != ""  &&  $("#6").val() != ""  &&  
					$("#7").val() != ""  &&  $("#8").val() != ""  &&  $("#9").val() != ""){

						finish = true
						$("h1").text("It is draw")
				}

				
				if(	($("#1").val() == player  &&  $("#2").val() == player  &&  $("#3").val() == player) ||
					($("#4").val() == player  &&  $("#5").val() == player  &&  $("#6").val() == player) ||
					($("#7").val() == player  &&  $("#8").val() == player  &&  $("#9").val() == player) ||

					($("#1").val() == player  &&  $("#4").val() == player  &&  $("#7").val() == player) ||
					($("#2").val() == player  &&  $("#5").val() == player  &&  $("#8").val() == player) ||
					($("#3").val() == player  &&  $("#6").val() == player  &&  $("#9").val() == player) ||

					($("#1").val() == player  &&  $("#5").val() == player  &&  $("#9").val() == player) ||
					($("#3").val() == player  &&  $("#5").val() == player  &&  $("#7").val() == player)){

						finish = true
						$("h1").text("Player [" + player + "] has won")

						for(let i=1; i<10; i++){
							if(!$("#"+i).val()){
								$("#"+i).addClass("disabled")
							}
						}
				}
			}
		</script>
	</body>
</html>